### 解析器的解析规则是什么？

[WHATWG 定义的语法规范](https://html.spec.whatwg.org/#toc-syntax)

在前文我们一个一个字符的解析出 `token` 再根据 `token` 生成 `ast` 的思路。使用正则我们可以直接匹配出一个 `token` 并在解析的过程中直接生成 `ast`。还需要注意文本模式。

其中用到了一种算法叫递归下降算法。递归：在上级函数执行中调用自身下级函数称为递归。下降：上级函数执行构造父节点，下级函数执行构造上级节点的子节点，这种自顶而下求值叫下降。

```html
<div id="foo">hello {{ bar }} word</div>
```

1、以 `<` 开头开始解析标签出 `div`。

2、在 `>` 或者自闭合标签 `/>` 之间的都是属性 `id = "foo"`。

3、在下一个 `<` 或者 `{{` 之间的都是文本 `hello`。

4、在 `{{` 和 `}}` 之间是插值 `bar`。

5、在下一个 `<` 或者 `{{` 之间的都是文本 `word`。

6、以 `<` 开头开始解析标签如果当前上下文等于 `</div` 则是结束标签。
